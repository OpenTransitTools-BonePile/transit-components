#
# TriMet MOD Map
# Config built on: Tuesday, May 21, 2019 @ 9:26pm
#

# define timezone for arrival countdown to be accurate (to show a countdown time ala '6 minutes' vs. clock time)
homeTimezone: America/Los_Angeles

# react-router config, for URL routing (not to be confused with multimodal/OTP routing)
# if app is to be deployed to a URL subdirectory (e.g. http://foo.bar/app), specify the path here:
reactRouter:
  basename: map


# OTP API
api:
  host: https://maps.trimet.org
  path: /otp_ct


# Enabled multimodal routing types (e.g. interary, profile)
routingTypes:
  - key: ITINERARY
    text: Exact Time

# Show/hide elevation profile chart for walk/bike legs
elevationProfile: True

# Map config
map:

  # Enabled map views
  views:
    - type: DEFAULT
      text: Map View

  # Default map center
  initLat: 45.52
  initLon: -122.682
  initZoom: 12
  maxZoom: 22
 
  baseLayerButtons: true
  baseLayersInitial: 0  # index of the array below -- 0 == Streets, 1 == Aerials, etc...

  # Base layers for default map
  baseLayers:
    - name: Streets
      url: //tile{s}.trimet.org/tilecache/tilecache.py/1.0.0/currentOSM/{z}/{x}/{y}
      attribution: 'Map tiles: <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.'
      maxZoom: 20
    - name: Aerials
      url: //tile{s}.trimet.org/tilecache/tilecache.py/1.0.0/hybridOSM/{z}/{x}/{y}
      attribution: 'Map tiles: <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.'
      maxZoom: 20

  overlays:
    - type: vehicles
      name: Transit Vehicles
      api: https://maps.trimet.org/gtfs/rt/vehicles
      refresh: 5
      default: 'all'

    - type: bike-rental
      name: Biketown Locations
      modes:
        - BICYCLE_RENT

    - type: car-rental
      name: car2go Locations
      modes:
        - CAR_RENT
      companies:
        - CAR2GO

    - type: car-rental
      name: REACH NOW Locations
      modes:
        - CAR_RENT
      companies:
        - REACHNOW

    - type: park-and-ride
      name: Park & Ride Locations
      maxTransitDistance: 1000
      modes:
        - CAR_PARK

    - type: stops
      name: Transit Stops
      visible: true

    - type: zipcar
      name: Zipcar Locations
      api: https://betaplanner.trimet.org/ws/carshare/zipcar/data.json


geocoder:
  baseUrl: https://betaplanner.trimet.org/ws/solrwrap/v0/pelias
  maxNearbyStops: 6
  boundary:
    rect:
      minLon: -123.2034
      maxLon: -122.135
      minLat: 45.273
      maxLat: 45.7445


# Mode selector configuration
modes:
  transitModes:
    - mode: BUS
      label: Bus
    - mode: TRAM
      label: MAX & Streetcar
    - mode: RAIL
      label: WES
    - mode: GONDOLA
      label: Aerial Tram

  accessModes:
    - mode: BICYCLE
      label: Transit + Bike
    - mode: BICYCLE_RENT
      label: Transit + Biketown
    - mode: CAR_PARK
      label: Park & Ride
    - mode: CAR_RENT
      company: CAR2GO
      label: Transit + car2go
    - mode: CAR_RENT
      company: REACHNOW
      label: Transit + REACH NOW
    - mode: CAR_HAIL
      company: UBER
      label: Transit + Uber
      showWheelchairSetting: false

  bicycleModes:
    - mode: BICYCLE
      label: Own Bike
      iconWidth: 18
    - mode: BICYCLE_RENT
      label: Biketown
      iconWidth: 36

errorMessages:
  - id: 404
    msg: Sorry, we couldn't find any transit or rideshare/carshare options at the time you chose. Please try again later or change the departure/arrival time of your trip.
    modes:
      - CAR_HAIL
      - CAR_RENT
  - id: 405
    msg: Sorry, we couldn't find any transit or rideshare/carshare options at the time you chose. Please try again later or change the departure/arrival time of your trip.
    modes:
      - CAR_HAIL
      - CAR_RENT
  - id: 480
    msg: No available transit routes or rideshare/carshare service at origin.

reportIssue:
  mailto: hello@trimet.org

analytics:
  google:
    globalSiteTag: UA-688646-7

language:
  routeViewer: Route Viewer
  tripViewer: Trip Viewer
  stopViewer: TransitTracker

dateTime:
  timeFormat: h:mm a
  dateFormat: MM/DD/YYYY
  longDateFormat: MMMM D, YYYY

# Alternate TransitIndex API
alternateTransitIndex:
  apiRoot: https://betaplanner.trimet.org/ws/ti/v0/
  services:
     - stops
     - stops/routes
     - routes
